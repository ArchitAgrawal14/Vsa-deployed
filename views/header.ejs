<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Header</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<style>
.modern-header-wrapper {
  --primary-color: #2563eb;
  --secondary-color: #1e40af;
  --accent-color: #60a5fa;
  --text-light: #f8fafc;
  --text-dark: #1e293b;
}

.modern-header-wrapper body {
  margin: 0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
}

.modern-header-wrapper .modern-header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  padding: 0.5rem;
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.modern-header-wrapper .header-container {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
}

.modern-header-wrapper .logo img {
  max-height: 60px;
  transition: transform 0.3s ease;
}

.modern-header-wrapper .logo img:hover {
  transform: scale(1.05);
}

.modern-header-wrapper .nav-links {
  display: flex;
  gap: 2rem;
  align-items: center;
  margin: 0;
  padding: 0;
  list-style: none;
  transition: transform 0.3s ease-in-out;
}

.modern-header-wrapper .nav-links li {
  animation: fadeInDown 0.5s ease forwards;
  opacity: 0;
  animation-delay: calc(0.1s * var(--animation-order));
  position: relative;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modern-header-wrapper .nav-links li a {
  color: var(--text-light);
  text-decoration: none;
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.modern-header-wrapper .nav-links li a:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

/* Custom Dropdown Styles */
.modern-header-wrapper .custom-dropdown-menu {
  background: blue;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  border: none;
  margin-top: 0.5rem;
  padding: 0.5rem 0;
  display: none;
  transition: all 0.3s ease-in-out;
  position: absolute;
  right: 0;
  min-width: 180px;
}

.modern-header-wrapper .custom-dropdown-menu.show {
  display: block;
}

.modern-header-wrapper .custom-dropdown-item {
  color: var(--text-dark);
  padding: 0.75rem 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: background 0.3s ease;
  text-decoration: none;
}

.modern-header-wrapper .custom-dropdown-item:hover {
  background: #f8fafc;
}

.modern-header-wrapper .mobile-menu-btn {
  display: none;
  background: none;
  border: none;
  color: var(--text-light);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.5rem;
}

@media (max-width: 768px) {
  .modern-header-wrapper .mobile-menu-btn {
    display: block;
    margin-left: auto;
  }
  
  .modern-header-wrapper .nav-links {
    position: fixed;
    top: 0;
    right: -100%;
    height: 100vh;
    width: 80%;
    max-width: 400px;
    background: var(--primary-color);
    flex-direction: column;
    padding: 4rem 2rem;
    transition: right 0.3s ease-in-out;
    z-index: 1001;
  }
  
  .modern-header-wrapper .nav-links.active {
    right: 0;
  }
  
  .modern-header-wrapper .custom-dropdown-menu {
    position: static;
    transform: none;
    background: transparent;
    box-shadow: none;
    margin-top: 0;
  }
  
  .modern-header-wrapper .custom-dropdown-item {
    color: var(--text-light);
    padding-left: 2rem;
  }
  
  .modern-header-wrapper .custom-dropdown-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }
}
</style>
</head>
<body>
<div class="modern-header-wrapper">
  <header class="modern-header">
    <div class="header-container">
      <div class="logo animate__animated animate__fadeIn">
        <img src="/icons/VSA_logo.png" alt="Logo" />
      </div>

      <button class="mobile-menu-btn" aria-label="Toggle menu">
        <i class="fas fa-bars"></i>
      </button>

      <nav>
        <ul class="nav-links">
          <li style="--animation-order: 1"><a href="/"><i class="fas fa-home"></i> Home</a></li>
          <li style="--animation-order: 2"><a href="/joinUs"><i class="fas fa-user-plus"></i> Join us</a></li>
          <li style="--animation-order: 3"><a href="/Cart"><i class="fas fa-shopping-cart"></i> Cart</a></li>
          <li style="--animation-order: 4"><a href="/Shop"><i class="fas fa-store"></i> Shop</a></li>
          <li class="nav-item" style="--animation-order: 5">
            <% if(Login) { %>
              <a class="custom-dropdown-toggle" href="#" role="button">
                <i class="fas fa-user-circle"></i> <%= Login %>
              </a>
              <div class="custom-dropdown-menu">
                <a class="custom-dropdown-item" href="/Profile"><i class="fas fa-id-card"></i> Profile</a>
                <a class="custom-dropdown-item" href="/Orders"><i class="fas fa-shopping-bag"></i> Orders</a>
                <a class="custom-dropdown-item" href="/Password_change"><i class="fas fa-key"></i> Change Password</a>
                <a class="custom-dropdown-item" href="/Logout"><i class="fas fa-sign-out-alt"></i> LogOut</a>
              </div>
            <% } else { %>
              <a href="/newLogin" class="nav-link">
                <i class="fas fa-sign-in-alt"></i> Login
              </a>
            <% } %>
          </li>
        </ul>
      </nav>
    </div>
  </header>    
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.createElement('div');
  overlay.className = 'nav-overlay';
  document.querySelector('.modern-header-wrapper').appendChild(overlay);

  const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
  const navLinks = document.querySelector('.nav-links');
  const dropdownToggles = document.querySelectorAll('.custom-dropdown-toggle');

  function toggleMobileMenu() {
    mobileMenuBtn.classList.toggle('active');
    navLinks.classList.toggle('active');
    overlay.classList.toggle('active');
    
    const icon = mobileMenuBtn.querySelector('i');
    icon.classList.toggle('fa-bars');
    icon.classList.toggle('fa-times');
    document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
  }

  // Dropdown functionality
  dropdownToggles.forEach(toggle => {
    toggle.addEventListener('click', function(e) {
      e.preventDefault();
      const dropdownMenu = this.nextElementSibling;
      dropdownMenu.classList.toggle('show');
      
      // Close other dropdowns
      document.querySelectorAll('.custom-dropdown-menu').forEach(menu => {
        if(menu !== dropdownMenu) menu.classList.remove('show');
      });
    });
  });

  // Close dropdowns when clicking outside
  document.addEventListener('click', function(e) {
    if(!e.target.closest('.nav-item')) {
      document.querySelectorAll('.custom-dropdown-menu').forEach(menu => {
        menu.classList.remove('show');
      });
    }
  });

  // Mobile menu handling
  mobileMenuBtn.addEventListener('click', toggleMobileMenu);
  overlay.addEventListener('click', toggleMobileMenu);

  window.addEventListener('resize', function() {
    if(window.innerWidth > 768) {
      navLinks.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
      mobileMenuBtn.querySelector('i').classList.remove('fa-times');
    }
  });
});
</script>
</body>
</html>